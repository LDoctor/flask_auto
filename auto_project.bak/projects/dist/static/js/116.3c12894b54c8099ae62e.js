webpackJsonp([116],{SNli:function(a,e){},brHW:function(a,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=t("3cXf"),s=t.n(r),l={components:{"pana-breadcrumb":t("1JPr").a},data:function(){return{labelWidth:"100px",form:{mail:{host:"",username:"",password:"",isUse:!1,smtp:{port:"",sender:"",auth:!1}}},paramName:"",paramId:"",isset:"",rules:{"mail.host":[{required:!0,message:"必填项",trigger:"blur"},{validator:this.common.validateserviceEmail,message:"请输入正确的邮箱服务器",trigger:"blur"}],"mail.smtp.port":[{required:!0,message:"必填项",trigger:"blur"},{min:1,max:65535,type:"integer",message:"请输入1-65535的正整数",trigger:"blur"}],"mail.username":[{required:!0,message:"必填项",trigger:"blur"},{validator:this.common.validateEmail,message:"请输入正确的账号",trigger:"blur"}],"mail.password":[{required:!0,message:"必填项",trigger:"blur"},{min:8,message:"请至少输入8位",trigger:"blur"},{max:30,message:"请至多输入30位",trigger:"blur"}]}}},methods:{getemailService:function(){var a=this;this.checkError(this.$http({url:this.api.alarmManage.getemailService+this.common.formatGetUrl({enterpriseUid:"66666666666666666666666666666666",parentId:27,regionUid:0}),method:"get"}),function(e){a.paramName=e.data[0].paramName,a.paramId=e.data[0].paramId,a.isset=e.data[0].paramValue,a.form.mail.host=JSON.parse(e.data[0].paramValue)["mail.host"],a.form.mail.smtp.port=JSON.parse(e.data[0].paramValue)["mail.smtp.port"],a.form.mail.username=JSON.parse(e.data[0].paramValue)["mail.username"],a.form.mail.password=JSON.parse(e.data[0].paramValue)["mail.password"],a.form.mail.smtp.sender=JSON.parse(e.data[0].paramValue)["mail.smtp.sender"],a.form.mail.smtp.auth=JSON.parse(e.data[0].paramValue)["mail.smtp.auth"],a.form.mail.isUse=JSON.parse(e.data[0].paramValue)["mail.isUse"];for(var t=[],r=0;r<JSON.parse(e.data[0].paramValue)["mail.password"].split(",").length;r++)t.push(String.fromCharCode(JSON.parse(e.data[0].paramValue)["mail.password"].split(",")[r]));a.form.mail.password=t.join("")})},update:function(){var a=this,e=this,t=void 0,r=void 0;""==this.isset?(r="post",t={enterpriseUid:"66666666666666666666666666666666",parentId:27,regionUid:0,paramLevel:2,paramName:"mailserver",paramDesc:"邮件服务器配置",regionKey:0,paramValue:s()({"mail.host":this.form.mail.host,"mail.smtp.port":this.form.mail.smtp.port,"mail.username":this.form.mail.username,"mail.password":this.form.mail.password,"mail.smtp.sender":this.form.mail.smtp.sender,"mail.smtp.auth":this.form.mail.smtp.auth,"mail.isUse":this.form.mail.isUse})}):(r="put",t={enterpriseUid:"66666666666666666666666666666666",parentId:27,regionUid:0,paramId:this.paramId,paramName:this.paramName,paramValue:s()({"mail.host":this.form.mail.host,"mail.smtp.port":this.form.mail.smtp.port,"mail.username":this.form.mail.username,"mail.password":this.form.mail.password,"mail.smtp.sender":this.form.mail.smtp.sender,"mail.smtp.auth":this.form.mail.smtp.auth,"mail.isUse":this.form.mail.isUse})}),this.$refs.form.validate(function(s){s&&a.checkError(a.$http({url:a.api.alarmManage.getemailService,method:r,data:t}),function(a){e.$notify({title:e.lang.common.success,type:"success",message:"操作成功"}),e.getemailService()})})}},mounted:function(){this.getemailService()}},m={render:function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("el-container",{staticClass:"alarmdiv",attrs:{type:"flex",direction:"vertical"}},[t("pana-breadcrumb"),a._v(" "),t("el-main",[t("div",{staticClass:"friendly-alert"},[a._v(a._s(a.lang.regularSetup.emailalert))]),a._v(" "),t("el-form",{ref:"form",attrs:{"label-position":"right",model:a.form,rules:a.rules}},[t("el-row",{attrs:{type:"flex",justify:"center"}},[t("el-col",{attrs:{span:10}},[t("el-form-item",{attrs:{label:a.lang.alarmManage.servicename,"label-width":a.labelWidth,prop:"mail.host"}},[t("el-input",{model:{value:a.form.mail.host,callback:function(e){a.$set(a.form.mail,"host",e)},expression:"form.mail.host"}})],1)],1),a._v(" "),t("el-col",{attrs:{span:5}},[t("el-form-item",{attrs:{label:a.lang.alarmManage.port,"label-width":a.labelWidth,prop:"mail.smtp.port"}},[t("el-input",{directives:[{name:"disbledScroll",rawName:"v-disbledScroll"}],attrs:{type:"number"},nativeOn:{mousewheel:function(a){a.preventDefault()}},model:{value:a.form.mail.smtp.port,callback:function(e){a.$set(a.form.mail.smtp,"port",a._n(e))},expression:"form.mail.smtp.port"}})],1)],1)],1),a._v(" "),t("el-row",{attrs:{type:"flex",justify:"center"}},[t("el-col",{attrs:{span:15}},[t("el-form-item",{attrs:{label:a.lang.alarmManage.accountNumber,"label-width":a.labelWidth,prop:"mail.username"}},[t("el-input",{model:{value:a.form.mail.username,callback:function(e){a.$set(a.form.mail,"username",e)},expression:"form.mail.username"}})],1)],1)],1),a._v(" "),t("el-row",{attrs:{type:"flex",justify:"center"}},[t("el-col",{attrs:{span:15}},[t("el-form-item",{attrs:{label:a.lang.alarmManage.password,"label-width":a.labelWidth,prop:"mail.password"}},[t("el-input",{attrs:{type:"password"},model:{value:a.form.mail.password,callback:function(e){a.$set(a.form.mail,"password",e)},expression:"form.mail.password"}})],1)],1)],1),a._v(" "),t("el-row",{attrs:{type:"flex",justify:"center"}},[t("el-col",{attrs:{span:15}},[t("el-form-item",{attrs:{label:a.lang.alarmManage.sender,"label-width":a.labelWidth,prop:"mail.smtp.sender"}},[t("el-input",{model:{value:a.form.mail.smtp.sender,callback:function(e){a.$set(a.form.mail.smtp,"sender",e)},expression:"form.mail.smtp.sender"}})],1)],1)],1),a._v(" "),t("el-row",{attrs:{type:"flex",justify:"center"}},[t("el-col",{attrs:{span:15}},[t("el-form-item",{attrs:{label:a.lang.alarmManage.securityLink,"label-width":a.labelWidth,prop:"mail.smtp.auth"}},[t("el-checkbox",{model:{value:a.form.mail.smtp.auth,callback:function(e){a.$set(a.form.mail.smtp,"auth",e)},expression:"form.mail.smtp.auth"}})],1)],1)],1),a._v(" "),t("el-row",{attrs:{type:"flex",justify:"center"}},[t("el-col",{attrs:{span:15}},[t("el-form-item",{attrs:{label:a.lang.alarmManage.activation,"label-width":a.labelWidth,prop:"mail.isUse"}},[t("el-switch",{attrs:{"active-color":"#409EFF","inactive-color":"#dcdfe6"},model:{value:a.form.mail.isUse,callback:function(e){a.$set(a.form.mail,"isUse",e)},expression:"form.mail.isUse"}})],1)],1)],1),a._v(" "),t("span",{staticStyle:{display:"block","text-align":"center"}},[t("el-button",{attrs:{type:"primary"},on:{click:a.update}},[a._v(a._s(a.lang.common.confirm))])],1)],1)],1)],1)},staticRenderFns:[]};var i=t("C7Lr")(l,m,!1,function(a){t("SNli")},"data-v-001e255a",null);e.default=i.exports}});