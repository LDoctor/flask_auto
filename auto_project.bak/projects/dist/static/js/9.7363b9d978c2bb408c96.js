webpackJsonp([9],{"0KBE":function(e,t){},"19lc":function(e,t){},"7vDJ":function(e,t){},EuCd:function(e,t){},ZqEf:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("3cXf"),o=a.n(s),l=a("1JPr"),i=a("aA9S"),n=a.n(i),r=a("yRx0"),c={name:"pana-create-cloud-disk",props:{show:Boolean},components:{"pana-info":r.a},computed:{cloudDiskFilter:function(){var e=this;return this.cloudDiskOrigin.filter(function(t){return""===e.cloudDiskSearch||-1!==o()(t).search(e.cloudDiskSearch)})},imageFilter:function(){var e=this;return this.imageOrigin.filter(function(t){return""===e.imageSearch||-1!==o()(t).search(e.imageSearch)})},snapshotFilter:function(){var e=this;return this.snapshotOrigin.filter(function(t){return""===e.snapshotSearch||-1!==o()(t).search(e.snapshotSearch)})}},methods:{showDetail:function(){this.quotaDetail?this.dialogWid="670px":this.dialogWid="860px",this.quotaDetail=!this.quotaDetail},getQuotaDetail:function(){var e=this;this.checkError(this.$http({method:"get",url:e.api.quota.get_pool_quota,params:{check:"stg"}}),function(t){var a=t.data,s=Number(a.gigabytes_total-a.gigabytes_used);e.loading=!1,e.gigabytes_total=a.gigabytes_total,e.gigabytes_used=a.gigabytes_used,e.gigabytes_used_val=e.gigabytes_used,e.gigabytesPercent=e.gigabytes_used/e.gigabytes_total*100,e.gigabytesPercentVal=e.gigabytesPercent,e.volumeQuota=s>0?s:0},function(){e.loading=!1})},closeModal:function(e){e=e||!1,n()(this.$data,this.$options.data.call(this)),this.$emit("closeModal",e)},initForm:function(){var e=this;this.loading=!0,this.$nextTick(function(){null!=e.$refs.volume_form&&e.$refs.volume_form.resetFields(),e.getQuotaDetail(),e.getPoolData()})},emptyuDiskFn:function(){this.usedFn(this.form.size)},usedFn:function(e){this.gigabytes_used_val=this.gigabytes_used+Number(e),this.gigabytesPercentVal=this.gigabytes_used_val/this.gigabytes_total*100},getPoolData:function(){var e=this;this.loading=!0,this.checkError(this.$http({method:"get",url:this.api.storage.get_pools}),function(t){e.resourceOptions=t.data,e.resourceOptions.length>0&&(e.form.volume_type=e.resourceOptions[0].volumeTypeId),e.loading=!1},function(){e.loading=!1})},createVolume:function(){var e=this,t=this.form,a=!1;switch(this.disable=!0,this.diskType){case"emptyDisk":t.size=e.blankSize,delete t.source_volid,delete t.snapshot_id,delete t.imageRef;break;case"cloudDisk":delete t.snapshot_id,delete t.imageRef,a=e.emptyCloudDisk;break;case"image":delete t.source_volid,delete t.snapshot_id,a=e.emptyImage;break;case"snapshot":delete t.source_volid,delete t.imageRef,a=e.emptySnapShot}this.$refs.volume_form.validate(function(s){s&&e.volumeQuota>=e.form.size&&!1===a?e.checkError(e.$http({url:e.api.storage.post_volumes,method:"post",data:t}),function(t){e.wsEventQueue.push(t.data.id),e.$notify({title:e.lang.common.success,type:"success",message:e.lang.cloudDisk.creatingVolume}),e.closeModal(!0)},function(){e.disable=!1}):e.disable=!1})},switchResource:function(){switch(this.diskType){case"emptyDisk":this.form.size=this.blankSize,this.usedFn(this.form.size);break;case"cloudDisk":this.getVolumeList();break;case"image":this.getImageList();break;case"snapshot":this.getSnapshotList()}},getVolumeList:function(){var e=this;this.cloudLoading=!0,this.checkError(this.$http({url:e.api.storage.get_volumes,method:"get"}),function(t){e.cloudLoading=!1;var a=t.data.data_disks;a=a.concat(t.data.sys_disks),e.cloudDiskOrigin=a.filter(function(e){return"available"===e.status.toLowerCase()||"in-use"===e.status.toLowerCase()}),e.cloudDiskOrigin.length>0?(e.form.source_volid=e.cloudDiskOrigin[0].id,e.volumeOptions=[{disPlayName:e.cloudDiskOrigin[0].display_name,volumeTypeId:e.cloudDiskOrigin[0].volume_type_id}],e.form.volume_type=e.cloudDiskOrigin[0].volume_type_id,e.form.size=e.cloudDiskOrigin[0].size,e.usedFn(e.form.size)):(e.emptyCloudDisk=!0,e.usedFn(0))},function(){e.cloudLoading=!1})},getImageList:function(){var e=this;this.imageLoading=!0,this.checkError(this.$http({url:this.api.cloud.get_images,method:"get"}),function(t){e.imageLoading=!1,e.imageOrigin=t.data,t.data.length>0?(e.form.imageRef=e.imageOrigin[0].id,e.form.size=e.imageOrigin[0].vol_size,e.usedFn(e.form.size),e.emptyImage=!1):(e.emptyImage=!0,e.usedFn(0))},function(){e.imageLoading=!1})},getSnapshotList:function(){var e=this;this.snapshotLoading=!0,this.checkError(this.$http({url:this.api.storage.getSnapshot,method:"get"}),function(t){e.snapshotLoading=!1,e.snapshotOrigin=t.data.data_disks.concat(t.data.sys_disks),e.snapshotOrigin.length>0?(e.form.snapshot_id=e.snapshotOrigin[0].id,e.form.size=e.snapshotOrigin[0].size,e.usedFn(e.form.size),e.emptySnapShot=!1):(e.emptySnapShot=!0,e.usedFn(0))},function(){e.snapshotLoading=!1})},validateVolumeName:function(e,t,a){""===t||null==t||/^[A-Za-z0-9_\-.\u4E00-\u9FA5]*$/.test(t)?a():a(new Error(e.message))},changeSourceId:function(e){this.form.size=e.size,this.usedFn(this.form.size),this.volumeOptions=[{disPlayName:e.display_name,volumeTypeId:e.volume_type_id}],this.form.volume_type=e.volume_type_id}},data:function(){return{labelWidth:"100px",diskType:"emptyDisk",quotaDetail:!1,dialogWid:"35%",form:{name:"",size:null,volume_type:"",description:"",multiattach:!1,source_volid:"",imageRef:"",snapshot_id:""},rules:{name:[{required:!0,message:this.lang.cloudDisk.nameRequiredRule,trigger:"blur"},{min:1,max:32,message:this.lang.cloudDisk.nameLengthRule,trigger:"blur"},{validator:this.validateVolumeName,message:this.lang.cloudDisk.nameFormatRule,trigger:"blur"}],size:[{required:!0,message:this.lang.cloudDisk.nameRequiredRule,trigger:"blur"},{validator:this.common.validateIntegerType,message:this.lang.cloudDisk.sizeIntegerType,trigger:"blur"},{validator:this.common.validateNumberRange,min:1,message:this.lang.cloudDisk.sizeIntegerType,trigger:"blur"}],volume_type:[{required:!0,message:this.lang.cloudDisk.sourceVolidRequired,trigger:"blur"}]},loading:!0,poolLoading:!1,pageSize:10,resourceOptions:[],volumeOptions:[],Options:[],checked:!0,cloudDiskSearch:"",cloudDiskOrigin:[],cloudDiskPage:1,cloudDisk:"",imageSearch:"",imageOrigin:[],imagePage:1,image:{},snapshotData:[],snapshotSearch:"",snapshotOrigin:[],snapshot:{},cloudLoading:!1,imageLoading:!1,snapshotLoading:!1,emptyCloudDisk:!1,emptyImage:!1,emptySnapShot:!1,disable:!1,blankSize:null,gigabytes_total:0,gigabytes_used:0,gigabytes_used_val:0,volumeQuota:0,gigabytesPercent:0,gigabytesPercentVal:0}}},d={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:e.lang.cloudDisk.createCloudDisk,width:e.dialogWid,visible:e.show,modal:!0},on:{close:e.closeModal,opened:e.initForm}},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"volume_form",staticStyle:{width:"500px",float:"left"},attrs:{"label-position":"right",model:e.form,rules:e.rules,"element-loading-text":e.lang.common.loading,"element-loading-spinner":"el-icon-loading","element-loading-background":"rgb(255, 255, 255)"}},[a("pana-info",{directives:[{name:"show",rawName:"v-show",value:null!=e.form.size&&e.form.size>e.volumeQuota,expression:"form.size != null && form.size > volumeQuota"}],attrs:{content:e.common.formatMsg(e.lang.cloudDisk.currentVolumeQuota,{quotaValue:e.volumeQuota}),bgStyle:"error"}}),e._v(" "),a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{span:20}},[a("el-form-item",{attrs:{label:e.lang.cloudDisk.cloudDiskName,"label-width":e.labelWidth,prop:"name"}},[a("el-col",{attrs:{span:16}},[a("el-input",{attrs:{placeholder:e.lang.cloudDisk.cloudDisnNamePlaceholder},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1)],1)],1),e._v(" "),a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{span:20}},[a("el-form-item",{attrs:{label:e.lang.cloudDisk.selectSource,"label-width":e.labelWidth}},[a("el-radio-group",{on:{change:e.switchResource},model:{value:e.diskType,callback:function(t){e.diskType=t},expression:"diskType"}},[a("el-radio-button",{attrs:{name:"diskType",label:"emptyDisk"}},[e._v(e._s(e.lang.cloudDisk.emptyDisk))]),e._v(" "),a("el-radio-button",{attrs:{name:"diskType",label:"cloudDisk"}},[e._v(e._s(e.lang.cloudDisk.cloudDisk))]),e._v(" "),a("el-radio-button",{attrs:{name:"diskType",label:"image"}},[e._v(e._s(e.lang.cloudDisk.image))]),e._v(" "),a("el-radio-button",{attrs:{name:"diskType",label:"snapshot"}},[e._v(e._s(e.lang.cloudDisk.snapshot))])],1)],1)],1)],1),e._v(" "),"emptyDisk"===e.diskType?a("div",[a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{span:20}},[a("el-form-item",{attrs:{label:e.lang.common.configuration,"label-width":e.labelWidth,prop:"size"}},[a("el-col",{attrs:{span:16}},[a("el-input",{attrs:{placeholder:e.lang.cloudDisk.diskSizePlaceholder},on:{blur:e.emptyuDiskFn,change:function(t){e.form.size=e.blankSize}},nativeOn:{mousewheel:function(e){e.preventDefault()}},model:{value:e.blankSize,callback:function(t){e.blankSize=t},expression:"blankSize"}})],1),e._v(" "),a("el-col",{staticClass:"unit",attrs:{span:4}},[e._v("\n                            "+e._s(e.lang.common.GB)+"\n                        ")])],1)],1)],1),e._v(" "),a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{span:20}},[a("el-form-item",{attrs:{label:e.lang.cloudDisk.descriptionInfo,"label-width":e.labelWidth}},[a("el-col",{attrs:{span:16}},[a("el-input",{attrs:{type:"textarea",placeholder:e.lang.cloudDisk.descInfoPlaceholder,rows:3},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1)],1)],1)],1)],1):e._e(),e._v(" "),"cloudDisk"===e.diskType?a("div",[a("el-row",{staticClass:"pana-btn-group",attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{span:9}},[a("el-input",{attrs:{placeholder:e.lang.cloudDisk.diskSearchPlaceholder,"suffix-icon":"el-icon-search"},model:{value:e.cloudDiskSearch,callback:function(t){e.cloudDiskSearch=t},expression:"cloudDiskSearch"}})],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-button",{staticClass:"refresh",attrs:{type:"primary"},on:{click:e.getVolumeList}},[e._v("\n                        "+e._s(e.lang.common.refresh)+"\n                    ")])],1)],1),e._v(" "),a("el-row",{staticClass:"originTable",attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{span:20}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.cloudLoading,expression:"cloudLoading"}],ref:"singleTable",staticClass:"cloud-table",staticStyle:{width:"100%"},attrs:{"element-loading-text":e.lang.common.loading,"element-loading-spinner":"el-icon-loading","element-loading-background":"rgb(255, 255, 255)","max-height":"330",data:e.cloudDiskFilter,"tooltip-effect":"dark"}},[a("el-table-column",{attrs:{width:"30px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-radio",{attrs:{label:t.row.id,name:"volume"},on:{change:function(a){return e.changeSourceId(t.row)}},model:{value:e.form.source_volid,callback:function(t){e.$set(e.form,"source_volid",t)},expression:"form.source_volid"}})]}}],null,!1,887635175)}),e._v(" "),a("el-table-column",{attrs:{label:e.lang.cloudDisk.diskName,sortable:"",prop:"name"}}),e._v(" "),a("el-table-column",{attrs:{label:e.lang.cloudDisk.sizeGB,sortable:"",prop:"size"}})],1),e._v(" "),e.emptyCloudDisk?a("span",{staticClass:"pana-error-info"},[e._v(e._s(e.lang.cloudDisk.atLeastOneDisk))]):e._e()],1)],1)],1):e._e(),e._v(" "),"image"===e.diskType?a("div",[a("el-row",{staticClass:"pana-btn-group",attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{span:9}},[a("el-input",{attrs:{placeholder:e.lang.cloudDisk.imageSearchPlaceholder,"suffix-icon":"el-icon-search"},model:{value:e.imageSearch,callback:function(t){e.imageSearch=t},expression:"imageSearch"}})],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-button",{staticClass:"refresh",attrs:{type:"primary"},on:{click:e.getImageList}},[e._v("\n                        "+e._s(e.lang.common.refresh)+"\n                    ")])],1)],1),e._v(" "),a("el-row",{staticClass:"originTable",attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{span:20}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.imageLoading,expression:"imageLoading"}],ref:"singleTable",staticClass:"cloud-table",staticStyle:{width:"100%"},attrs:{"element-loading-text":e.lang.common.loading,"element-loading-spinner":"el-icon-loading","element-loading-background":"rgb(255, 255, 255)","max-height":"330",data:e.imageFilter,"tooltip-effect":"dark"}},[a("el-table-column",{attrs:{width:"30px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-radio",{attrs:{label:t.row.id,name:"image"},on:{change:function(a){e.form.size=t.row.vol_size,e.usedFn(e.form.size)}},model:{value:e.form.imageRef,callback:function(t){e.$set(e.form,"imageRef",t)},expression:"form.imageRef"}})]}}],null,!1,643975147)}),e._v(" "),a("el-table-column",{attrs:{label:e.lang.cloudDisk.imageName,sortable:"",prop:"name"}}),e._v(" "),a("el-table-column",{attrs:{label:e.lang.cloudDisk.imageType,sortable:"",prop:"disk_format"}}),e._v(" "),a("el-table-column",{attrs:{label:e.lang.cloudDisk.systemArchitecture,sortable:"",prop:"arch"}}),e._v(" "),a("el-table-column",{attrs:{label:e.lang.cloudDisk.operatingSystem,sortable:"",prop:"os_type"}}),e._v(" "),a("el-table-column",{attrs:{label:e.lang.cloudDisk.minDisks,sortable:"",prop:"min_disk"}})],1),e._v(" "),e.emptyImage?a("span",{staticClass:"pana-error-info"},[e._v(e._s(e.lang.cloudDisk.atLeastOneImage))]):e._e()],1)],1)],1):e._e(),e._v(" "),"snapshot"===e.diskType?a("div",[a("el-row",{staticClass:"pana-btn-group",attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{span:9}},[a("el-input",{attrs:{placeholder:e.lang.cloudDisk.snapshotSearchPlaceholder,"suffix-icon":"el-icon-search"},model:{value:e.snapshotSearch,callback:function(t){e.snapshotSearch=t},expression:"snapshotSearch"}})],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-button",{staticClass:"refresh",attrs:{type:"primary"},on:{click:e.getSnapshotList}},[e._v("\n                        "+e._s(e.lang.common.refresh)+"\n                    ")])],1)],1),e._v(" "),a("el-row",{staticClass:"originTable",attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{span:20}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.snapshotLoading,expression:"snapshotLoading"}],ref:"singleTable",staticClass:"cloud-table",staticStyle:{width:"100%"},attrs:{"element-loading-text":e.lang.common.loading,"element-loading-spinner":"el-icon-loading","element-loading-background":"rgb(255, 255, 255)","max-height":"330",data:e.snapshotFilter,"tooltip-effect":"dark"}},[a("el-table-column",{attrs:{width:"30px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-radio",{attrs:{name:"snapshot",label:t.row.id},on:{change:function(a){e.form.size=t.row.size,e.usedFn(e.form.size)}},model:{value:e.form.snapshot_id,callback:function(t){e.$set(e.form,"snapshot_id",t)},expression:"form.snapshot_id"}})]}}],null,!1,2682703202)}),e._v(" "),a("el-table-column",{attrs:{label:e.lang.cloudDisk.snapshotName,prop:"name"}}),e._v(" "),a("el-table-column",{attrs:{label:e.lang.cloudDisk.cloudDiskName,prop:"volumeName"}}),e._v(" "),a("el-table-column",{attrs:{label:e.lang.cloudDisk.sizeGB,prop:"size"}})],1),e._v(" "),e.emptySnapShot?a("span",{staticClass:"pana-error-info"},[e._v(e._s(e.lang.cloudDisk.atLeastOneSnapShot))]):e._e()],1)],1)],1):e._e(),e._v(" "),a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{span:20}},[a("el-form-item",{attrs:{label:e.lang.cloudDisk.resourcePool,"label-width":e.labelWidth,prop:"volume_type"}},[a("el-select",{attrs:{filterable:"",disabled:"cloudDisk"===e.diskType,placeholder:e.lang.cloudDisk.poolSelectPlaceholder,width:"100%"},model:{value:e.form.volume_type,callback:function(t){e.$set(e.form,"volume_type",t)},expression:"form.volume_type"}},e._l("cloudDisk"===e.diskType?e.volumeOptions:e.resourceOptions,function(e,t){return a("el-option",{key:t,attrs:{label:e.disPlayName,value:e.volumeTypeId}})}),1)],1)],1)],1),e._v(" "),a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{span:16}},[a("el-form-item",{attrs:{label:e.lang.cloudDisk.shareVolume,"label-width":e.labelWidth}},[a("el-col",{attrs:{span:16}},[a("el-checkbox",{model:{value:e.form.multiattach,callback:function(t){e.$set(e.form,"multiattach",t)},expression:"form.multiattach"}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-form-item",[a("span",{staticStyle:{color:"#51a3ff",cursor:"pointer"},on:{click:e.showDetail}},[e._v(e._s(e.lang.cloudDisk.quotaDetail)+">>")])])],1)],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.quotaDetail,expression:"quotaDetail"}],staticStyle:{width:"300px",height:"400px",float:"right"}},[a("div",{staticClass:"quota-detail-all"},[a("div",{staticClass:"quota-detail-item"},[a("div",{staticClass:"quota-detail-text clearfix"},[a("span",{staticClass:"quota-detail-unit"},[e._v(e._s(e.lang.cloudDisk.diskQuata)+"（GB）")]),e._v(" "),a("span",{staticClass:"quota-detail-num"},[e._v(e._s(e.lang.cloudDisk.used)+e._s(e.gigabytes_used_val)+"/"+e._s(e.gigabytes_total))])]),e._v(" "),a("el-progress",{attrs:{percentage:e.gigabytesPercentVal,"show-text":!1}})],1)])]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.closeModal}},[e._v(e._s(e.lang.common.cancel))]),e._v(" "),a("el-button",{attrs:{type:"primary",disabled:e.disable},on:{click:e.createVolume}},[e._v(e._s(e.lang.common.confirm))])],1)],1)},staticRenderFns:[]};var u=a("C7Lr")(c,d,!1,function(e){a("i4vV")},"data-v-70fc6988",null).exports,m={name:"pana-deleteCloudDisk",props:{show:Boolean,force:{type:Boolean,default:!1}},methods:{closeModal:function(e){e=e||!1,this.$emit("closeModal",e)},deleteVolume:function(){this.closeModal(!0)}}},g={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:e.lang.common.info,visible:e.show,width:"30%",modal:!0},on:{close:e.closeModal}},[a("el-main",[!1===e.force?a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{span:10}},[e._v(e._s(e.lang.cloudDisk.confirmDeleteDisk))])],1):a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{span:10}},[e._v(e._s(e.lang.cloudDisk.confirmForceDeleteDisk))])],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.closeModal}},[e._v(e._s(e.lang.common.cancel))]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.deleteVolume}},[e._v(e._s(e.lang.common.confirm))])],1)],1)},staticRenderFns:[]};var h=a("C7Lr")(m,g,!1,function(e){a("19lc")},"data-v-51f062f6",null).exports,p={name:"pana-edit-volume",props:{show:Boolean,volume:Object,isSys:{default:!1,type:Boolean}},methods:{closeModal:function(e){n()(this.$data,this.$options.data.call(this)),e=e||!1,this.$emit("closeModal",e)},initForm:function(){null!=this.$refs.form&&this.$refs.form.clearValidate(),this.form.name=this.volume.name,this.form.description=this.volume.description,this.form.bootable=this.volume.bootable},editVolume:function(){var e=this;this.disable=!0,this.$refs.form.validate(function(t){t?e.checkError(e.$http({url:e.common.formatMsg(e.api.storage.put_volumes_detail,{vid:e.volume.id}),method:"put",data:e.form}),function(){e.$notify({title:e.lang.common.success,type:"success",message:e.lang.cloudDisk.editVolumeSuccess}),e.closeModal(!0)},function(){e.closeModal(!1)}):e.disable=!1})},validateVolumeName:function(e,t,a){""===t||null==t||/^[A-Za-z0-9_\-.\u4E00-\u9FA5]*$/.test(t)?a():a(new Error(e.message))}},data:function(){return{labelWidth:"100px",diskType:"emptyDisk",form:{name:"",description:"",bootable:!1},rules:{name:[{required:!0,message:this.lang.cloudDisk.nameRequiredRule,trigger:"blur"},{min:1,max:32,message:this.lang.cloudDisk.nameLengthRule,trigger:"blur"},{validator:this.validateVolumeName,message:this.lang.cloudDisk.nameFormatRule,trigger:"blur"}]},poolLoading:!1,pageSize:10,resourceOptions:[],checked:!0,cloudDiskSearch:"",cloudDiskOrigin:[],cloudDiskPage:1,cloudDisk:{},imageSearch:"",imageOrigin:[],imagePage:1,image:{},snapshotSearch:"",snapshotOrigin:[],snapshot:{},disable:!1}}},f={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.poolLoading,expression:"poolLoading"}],attrs:{title:e.lang.cloudDisk.editVolume,width:"40%",visible:e.show,modal:!0},on:{close:e.closeModal,open:e.initForm}},[a("el-form",{ref:"form",attrs:{"label-position":"right",model:e.form,rules:e.rules}},[a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{span:20}},[a("el-form-item",{attrs:{label:e.lang.cloudDisk.cloudDiskName,"label-width":e.labelWidth,prop:"name"}},[a("el-col",{attrs:{span:16}},[a("el-input",{attrs:{required:"",placeholder:e.lang.cloudDisk.cloudDisnNamePlaceholder},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1)],1)],1),e._v(" "),a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{span:20}},[a("el-form-item",{attrs:{label:e.lang.cloudDisk.descriptionInfo,"label-width":e.labelWidth}},[a("el-col",{attrs:{span:16}},[a("el-input",{attrs:{type:"textarea",placeholder:e.lang.cloudDisk.descInfoPlaceholder,rows:3},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1)],1)],1)],1),e._v(" "),a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{span:20}},[a("el-form-item",{attrs:{label:e.lang.cloudDisk.bootable,"label-width":e.labelWidth}},[a("el-col",{attrs:{span:16}},[a("el-checkbox",{attrs:{disabled:e.isSys},model:{value:e.form.bootable,callback:function(t){e.$set(e.form,"bootable",t)},expression:"form.bootable"}})],1)],1)],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.closeModal}},[e._v(e._s(e.lang.common.cancel))]),e._v(" "),a("el-button",{attrs:{type:"primary",disabled:e.disable},on:{click:e.editVolume}},[e._v(e._s(e.lang.common.confirm))])],1)],1)},staticRenderFns:[]};var v=a("C7Lr")(p,f,!1,function(e){a("0KBE")},"data-v-40e121b4",null).exports,b={name:"pana-extend-volume",props:{show:Boolean,volume:Object},components:{"pana-info":r.a},computed:{size:function(){return null==this.volume?0:this.volume.size}},methods:{newSizeFn:function(){this.gigabytes_used_val=this.form.new_size/1+this.gigabytes_used/1,this.gigabytesPercentVal=this.gigabytes_used_val/this.gigabytes_total*100},closeModal:function(e,t,a){n()(this.$data,this.$options.data.call(this)),e=e||!1,this.$emit("closeModal",{fresh:e,id:t,name:a})},initForm:function(){null!=this.$refs.form&&this.$refs.form.clearValidate(),this.getQuotaDetail(),this.form.new_size=this.size},getQuotaDetail:function(){var e=this;this.checkError(this.$http({method:"get",url:e.api.quota.get_pool_quota,params:{check:"stg"}}),function(t){var a=t.data,s=Number(a.gigabytes_total-a.gigabytes_used);e.poolLoading=!1,e.gigabytes_total=a.gigabytes_total,e.gigabytes_used=a.gigabytes_used,e.gigabytes_used_val=a.gigabytes_used,e.gigabytesPercent=a.gigabytes_used/a.gigabytes_total*100,e.gigabytesPercentVal=e.gigabytesPercent,e.volumeQuota=s>0?s:0},function(){e.poolLoading=!1})},extendVolume:function(){var e=this;this.disable=!0,this.$refs.form.validate(function(t){t&&e.form.new_size-e.size<=e.volumeQuota?(e.wsEventQueue.push(e.volume.id),e.checkError(e.$http({url:e.common.formatMsg(e.api.storage.post_volumes_detail_extensions,{volume_id:e.volume.id}),method:"post",data:e.common.dropEmptyParameter(e.form)}),function(){e.$notify({title:e.lang.common.success,type:"success",message:e.lang.cloudDisk.extendingVolume}),e.closeModal(!0,e.volume.id,e.volume.name)},function(){e.closeModal(!1)})):e.disable=!1})},validateVolumeName:function(e,t,a){""===t||null==t||/^[A-Za-z0-9_\-.\u4E00-\u9FA5]*$/.test(t)?a():a(new Error(e.message))},validateSizeMin:function(e,t,a){parseFloat(t)>parseFloat(e.currentSize)?a():a(new Error(e.message))}},data:function(){return{labelWidth:"100px",form:{new_size:""},poolLoading:!0,pageSize:10,disable:!1,gigabytes_total:0,gigabytes_used:0,gigabytes_used_val:0,volumeQuota:0,gigabytesPercent:0,gigabytesPercentVal:0}}},_={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:e.lang.cloudDisk.extendVolume,width:"40%",visible:e.show,modal:!0},on:{close:e.closeModal,open:e.initForm}},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.poolLoading,expression:"poolLoading"}],ref:"form",attrs:{"label-position":"right",model:e.form}},[a("pana-info",{directives:[{name:"show",rawName:"v-show",value:null!=e.form.new_size&&e.form.new_size-e.size>e.volumeQuota,expression:"form.new_size != null && (form.new_size - size) > volumeQuota"}],attrs:{content:e.common.formatMsg(e.lang.cloudDisk.overVolumeQuota,{quotaValue:e.volumeQuota,maxSize:e.volumeQuota+e.size}),bgStyle:"error"}}),e._v(" "),a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{span:20}},[a("el-form-item",{attrs:{label:e.lang.common.configuration,"label-width":e.labelWidth,prop:"new_size",rules:[{required:!0,message:this.lang.cloudDisk.nameRequiredRule,trigger:"blur"},{validator:this.common.validateIntegerType,message:this.lang.cloudDisk.sizeIntegerType,trigger:"blur"},{validator:this.validateSizeMin,currentSize:this.size,message:this.common.formatMsg(this.lang.cloudDisk.extendMinSize,{size:this.size}),trigger:"blur"}]}},[a("el-col",{attrs:{span:16}},[a("el-input",{directives:[{name:"disbledScroll",rawName:"v-disbledScroll"}],attrs:{type:"number",placeholder:e.lang.cloudDisk.diskSizePlaceholder},on:{input:e.newSizeFn},nativeOn:{mousewheel:function(e){e.preventDefault()}},model:{value:e.form.new_size,callback:function(t){e.$set(e.form,"new_size",t)},expression:"form.new_size"}})],1),e._v(" "),a("el-col",{staticClass:"unit",attrs:{span:4}},[e._v("\n                        "+e._s(e.lang.common.GB)+"\n                    ")])],1)],1)],1),e._v(" "),a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{span:20}},[a("el-form-item",{attrs:{label:e.lang.cloudDisk.projectQuota,"label-width":e.labelWidth}},[a("el-col",{attrs:{span:16}},[a("div",{staticClass:"clearfix"},[a("span",{staticClass:"fl"},[e._v(e._s(e.lang.cloudDisk.diskQuata))]),e._v(" "),null!=e.volume?a("span",{staticClass:"fr"},[e._v(e._s(e.lang.cloudDisk.used)+e._s(parseInt(e.gigabytes_used)+parseInt(""===e.form.new_size?0:e.form.new_size)-parseInt(e.volume.size))+"/"+e._s(e.gigabytes_total))]):e._e()]),e._v(" "),a("el-progress",{attrs:{percentage:e.gigabytesPercentVal,"show-text":!1}})],1)],1)],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.closeModal}},[e._v(e._s(e.lang.common.cancel))]),e._v(" "),a("el-button",{attrs:{type:"primary",disabled:e.disable},on:{click:e.extendVolume}},[e._v(e._s(e.lang.common.confirm))])],1)],1)},staticRenderFns:[]};var k=a("C7Lr")(b,_,!1,function(e){a("ka4P")},"data-v-6fa64d07",null).exports,y={name:"pana-extend-volume",props:{show:Boolean,volume:Object},methods:{closeModal:function(e,t,a){n()(this.$data,this.$options.data.call(this)),e=e||!1,this.$emit("closeModal",{fresh:e,id:t,name:a})},initForm:function(){null!=this.$refs.form&&this.$refs.form.clearValidate(),this.getVmList()},getVmList:function(){var e=this,t=JSON.parse(sessionStorage.getItem("panaCurrentPool"));this.loading=!0,this.checkError(e.$http({url:e.common.formatMsg(e.api.storage.get_detach_volumes_detail,{volume_id:this.volume.id}),method:"get"}),function(a){e.volumeDetail=a.data[0],e.checkError(e.$http({url:e.common.formatMsg(e.api.cloud.get_pools_detail_servers,{pool_id:t.id}),method:"get"}),function(t){e.loading=!1,e.vms=t.data.filter(function(t){return"fixedImageInstanceName"!==t.name&&-1===e.volumeDetail.instance.indexOf(t.name)}),t.data.length>0&&(e.form.server_id=e.vms[0].uid)},function(){e.loading=!1})},function(){e.loading=!1})},chargeVolume:function(){var e=this;this.disable=!0,this.$refs.form.validate(function(t){t?e.checkError(e.$http({url:e.common.formatMsg(e.api.storage.post_volumes_detail_attachments,{vid:e.volume.id}),method:"post",data:e.common.dropEmptyParameter(e.form)}),function(){e.$notify({title:e.lang.common.success,type:"success",message:e.lang.cloudDisk.chargingVolume}),e.closeModal(!0,e.volume.id,e.volume.name)},function(){e.closeModal(!1)}):e.disable=!1})}},data:function(){return{labelWidth:"100px",form:{server_id:""},vms:[],volumeDetail:{},loading:!1,pageSize:10,disable:!1}}},D={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:e.lang.cloudDisk.charge,width:"20%",visible:e.show,modal:!0},on:{close:e.closeModal,open:e.initForm}},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"form",attrs:{"label-position":"right",model:e.form,"element-loading-text":e.lang.common.loading,"element-loading-spinner":"el-icon-loading","element-loading-background":"rgb(255, 255, 255)"}},[a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{span:20}},[a("el-form-item",{attrs:{label:e.lang.cloudDisk.selectVm,"label-width":e.labelWidth,prop:"server_id"}},[a("el-col",{attrs:{span:16}},[a("el-select",{attrs:{filterable:"",placeholder:e.vms.length>0?e.lang.cloudDisk.vmSelectPlaceholder:e.lang.cloudDisk.noValidVmPlaceholder,width:"100%"},model:{value:e.form.server_id,callback:function(t){e.$set(e.form,"server_id",t)},expression:"form.server_id"}},e._l(e.vms,function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.uid}})}),1)],1)],1)],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.closeModal}},[e._v(e._s(e.lang.common.cancel))]),e._v(" "),a("el-button",{attrs:{type:"primary",disabled:e.disable},on:{click:e.chargeVolume}},[e._v(e._s(e.lang.common.confirm))])],1)],1)},staticRenderFns:[]};var w=a("C7Lr")(y,D,!1,function(e){a("qT68")},"data-v-2f59dea6",null).exports,S={name:"pana-extend-volume",props:{show:Boolean,volume:Object},methods:{closeModal:function(e,t,a){n()(this.$data,this.$options.data.call(this)),e=e||!1,this.$emit("closeModal",{fresh:e,id:t,name:a})},initForm:function(){null!=this.$refs.form&&this.$refs.form.clearValidate(),this.getVmList()},getVmList:function(){var e=this;this.loading=!0,this.checkError(e.$http({url:e.common.formatMsg(e.api.storage.get_detach_volumes_detail,{volume_id:this.volume.id}),method:"get"}),function(t){e.loading=!1,e.vms=t.data[0].insnameAndId,t.data.length>0&&(e.form.server_id=e.vms[0].id)},function(){e.loading=!1})},dischargeVolume:function(){var e=this;this.disable=!0,this.$refs.form.validate(function(t){t?e.checkError(e.$http({url:e.common.formatMsg(e.api.storage.post_volumes_detail_detachments,{vid:e.volume.id}),method:"post",data:e.common.dropEmptyParameter(e.form)}),function(){e.$notify({title:e.lang.common.success,type:"success",message:e.lang.cloudDisk.dischargingVolume}),e.closeModal(!0,e.volume.id,e.volume.name)},function(){e.closeModal(!1)}):e.disable=!1})}},data:function(){return{labelWidth:"100px",form:{server_id:""},vms:[],loading:!1,pageSize:10,disable:!1}}},x={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:e.lang.cloudDisk.discharge,width:"30%",visible:e.show,modal:!0},on:{close:e.closeModal,open:e.initForm}},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"form",attrs:{"label-position":"right",model:e.form,"element-loading-text":e.lang.common.loading,"element-loading-spinner":"el-icon-loading","element-loading-background":"rgb(255, 255, 255)"}},[a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{span:20}},[a("el-form-item",{attrs:{label:e.lang.cloudDisk.selectVm,"label-width":e.labelWidth,prop:"server_id"}},[a("el-col",{attrs:{span:16}},[a("el-select",{attrs:{filterable:"",placeholder:e.vms.length>0?e.lang.cloudDisk.vmSelectPlaceholder:e.lang.cloudDisk.noValidVmPlaceholder,width:"100%"},model:{value:e.form.server_id,callback:function(t){e.$set(e.form,"server_id",t)},expression:"form.server_id"}},e._l(e.vms,function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.id}})}),1)],1)],1)],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.closeModal}},[e._v(e._s(e.lang.common.cancel))]),e._v(" "),a("el-button",{attrs:{type:"primary",disabled:e.disable},on:{click:e.dischargeVolume}},[e._v(e._s(e.lang.common.confirm))])],1)],1)},staticRenderFns:[]};var C=a("C7Lr")(S,x,!1,function(e){a("7vDJ")},"data-v-07b976be",null).exports,z={name:"pana-extend-volume",props:{show:Boolean,volume:Object},methods:{closeModal:function(e){n()(this.$data,this.$options.data.call(this)),e=e||!1,this.$emit("closeModal",e)},initForm:function(){null!=this.$refs.form&&this.$refs.form.clearValidate()},createSnapshot:function(){var e=this;this.disable=!0,this.$refs.form.validate(function(t){t?e.checkError(e.$http({url:e.api.storage.getSnapshot,method:"post",data:{name:[e.form.name],description:e.form.description,volume_id:[e.volume.id]}}),function(){e.$notify({title:e.lang.common.success,type:"success",message:e.lang.cloudDisk.createSnapshotSuccess}),e.closeModal(!0)},function(){e.closeModal(!1)}):e.disable=!1})},validateName:function(e,t,a){""===t||null==t||/^[A-Za-z0-9\-.\u4E00-\u9FA5]*$/.test(t)?a():a(new Error(e.message))}},data:function(){return{labelWidth:"100px",form:{name:"",description:""},rules:{name:[{required:!0,message:this.lang.cloudDisk.nameRequiredRule,trigger:"blur"},{min:1,max:32,message:this.lang.cloudDisk.snapshotRangeRule,trigger:"blur"},{validator:this.validateName,message:this.lang.cloudDisk.snapshotFormatRule,trigger:"blur"}]},pageSize:10,disable:!1}}},V={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:e.lang.cloudDisk.createSnapshot,width:"30%",visible:e.show,modal:!0},on:{close:e.closeModal,open:e.initForm}},[a("el-form",{ref:"form",attrs:{"label-position":"right",model:e.form,rules:e.rules}},[a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{span:20}},[a("el-form-item",{attrs:{label:e.lang.cloudDisk.snapshotInfo,"label-width":e.labelWidth,prop:"name"}},[a("el-col",{attrs:{span:16}},[a("el-input",{attrs:{placeholder:e.lang.cloudDisk.snapshotPlaceholder},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1)],1)],1),e._v(" "),a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{span:20}},[a("el-form-item",{attrs:{label:e.lang.cloudDisk.descriptionInfo,"label-width":e.labelWidth,prop:"description"}},[a("el-col",{attrs:{span:16}},[a("el-input",{attrs:{placeholder:e.lang.cloudDisk.descriptionPlaceholder},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1)],1)],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.closeModal}},[e._v(e._s(e.lang.common.cancel))]),e._v(" "),a("el-button",{attrs:{type:"primary",disabled:e.disable},on:{click:e.createSnapshot}},[e._v(e._s(e.lang.common.confirm))])],1)],1)},staticRenderFns:[]};var $=a("C7Lr")(z,V,!1,function(e){a("tQoQ")},"data-v-5110b7a8",null).exports,M={name:"pana-deleteCloudDisk",props:{show:Boolean,force:{type:Boolean,default:!1}},methods:{closeModal:function(e){e=e||!1,this.$emit("closeModal",e)},deleteVolume:function(){this.closeModal(!0)}}},P={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:e.lang.common.info,visible:e.show,width:"30%",modal:!0},on:{close:e.closeModal}},[a("el-main",[a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{span:10}},[e._v(e._s(e.lang.cloudDisk.confirmResetVolume))])],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.closeModal}},[e._v(e._s(e.lang.common.cancel))]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.deleteVolume}},[e._v(e._s(e.lang.common.confirm))])],1)],1)},staticRenderFns:[]};var F=a("C7Lr")(M,P,!1,function(e){a("flHN")},"data-v-7a481c52",null).exports,I={name:"cloudDisk",components:{"pana-breadcrumb":l.a,"pana-createCloudDisk":u,"pana-deleteCloudDisk":h,"pana-edit-volume":v,"pana-extend-volume":k,"pana-charge-volume":w,"pana-discharge-volume":C,"pana-create-snapshot":$,"pana-reset-volume":F},computed:{dataFilter:function(){var e=this;return this.dataOrigin.filter(function(t){return""===e.dataSearch||-1!==o()(t).search(e.dataSearch)})},dataTable:function(){return this.dataFilter.length>this.pageSize?this.dataFilter.slice((this.dataPage-1)*this.pageSize,this.dataPage*this.pageSize):this.dataFilter},sysFilter:function(){var e=this;return this.sysOrigin.filter(function(t){return""===e.sysSearch||-1!==o()(t).search(e.sysSearch)})},sysTable:function(){return this.sysFilter.length>this.pageSize?this.sysFilter.slice((this.sysPage-1)*this.pageSize,this.sysPage*this.pageSize):this.sysFilter},cacheFilter:function(){var e=this;return this.cacheOrigin.filter(function(t){return""===e.cacheSearch||-1!==o()(t).search(e.cacheSearch)})},cacheTable:function(){return this.cacheFilter.length>this.pageSize?this.cacheFilter.slice((this.cachePage-1)*this.pageSize,this.cachePage*this.pageSize):this.cacheFilter}},data:function(){return{config:{available:{style:"cloud-success",title:this.lang.cloudDisk.available},unrecognized:{style:"cloud-warning",title:this.lang.cloudDisk.extending},reserved:{style:"cloud-success",title:this.lang.cloudDisk.reserved},"in-use":{style:"cloud-success",title:this.lang.cloudDisk.in_use},"awaiting-transfer":{style:"cloud-warning",title:this.lang.cloudDisk.awaiting_transfer},creating:{style:"cloud-warning",title:this.lang.cloudDisk.creating},attaching:{style:"cloud-warning",title:this.lang.cloudDisk.attaching},detaching:{style:"cloud-warning",title:this.lang.cloudDisk.detaching},maintenance:{style:"cloud-warning",title:this.lang.cloudDisk.maintenance},"backing-up":{style:"cloud-warning",title:this.lang.cloudDisk.backing_up},"restoring-backup":{style:"cloud-warning",title:this.lang.cloudDisk.restoring_backup},deleting:{style:"cloud-warning",title:this.lang.cloudDisk.deleting},downloading:{style:"cloud-warning",title:this.lang.cloudDisk.downloading},uploading:{style:"cloud-warning",title:this.lang.cloudDisk.uploading},retyping:{style:"cloud-warning",title:this.lang.cloudDisk.retyping},extending:{style:"cloud-warning",title:this.lang.cloudDisk.extending},error:{style:"cloud-error",title:this.lang.cloudDisk.error},error_deleting:{style:"cloud-error",title:this.lang.cloudDisk.error_deleting},"error_backing-up":{style:"cloud-error",title:this.lang.cloudDisk.error_backing_up},error_restoring:{style:"cloud-error",title:this.lang.cloudDisk.error_restoring},error_extending:{style:"cloud-error",title:this.lang.cloudDisk.error_extending}},activeName:"dataDisk",pageSize:10,dataSearch:"",dataOrigin:[],dataPage:1,dataSelectionIds:[],sysSearch:"",sysOrigin:[],sysPage:1,sysSelectionIds:[],cacheSearch:"",cacheOrigin:[],cachePage:1,cacheSelectionIds:[],createCloudDisk:!1,deleteCloudDisk:!1,showEditVolume:!1,showExtendVolume:!1,showChargeVolume:!1,showDischargeVolume:!1,showCreateSnapshot:!1,showResetVolume:!1,editObj:null,force:!1,loading:!1,dataSelections:[],sysSelections:[],cacheSelections:[],isSys:!1,doing:{},hasSnapshotVolume:!1,delSnapshotVolume:!1,disbledDeleteStr:this.lang.cloudDisk.atLeastOneDisk,hasSnapshotLoading:!1}},methods:{handleEdit:function(e,t){this.isSys=!0===t,this.editObj=e,this.showEditVolume=!0},switchDataPage:function(e){this.dataPage=e},switchSysPage:function(e){this.sysPage=e},switchCachePage:function(e){this.cachePage=e},sortChangeData:function(e){var t=null==e.order?0:"ascending"===e.order?1:-1;this.dataOrigin=this.dataOrigin.sort(function(a,s){switch(e.prop){case"size":return(a[e.prop]-s[e.prop])*t;default:return a[e.prop]=null==a[e.prop]?"":a[e.prop],s[e.prop]=null==s[e.prop]?"":s[e.prop],(a[e.prop]>s[e.prop]?1:-1)*t}})},sortChangeSys:function(e){var t=null==e.order?0:"ascending"===e.order?1:-1;this.sysOrigin=this.sysOrigin.sort(function(a,s){switch(e.prop){case"size":return(a[e.prop]-s[e.prop])*t;default:return a[e.prop]=null==a[e.prop]?"":a[e.prop],s[e.prop]=null==s[e.prop]?"":s[e.prop],(a[e.prop]>s[e.prop]?1:-1)*t}})},sortChangeCache:function(e){var t=null==e.order?0:"ascending"===e.order?1:-1;this.cacheOrigin=this.cacheOrigin.sort(function(a,s){switch(e.prop){case"size":return(a[e.prop]-s[e.prop])*t;default:return a[e.prop]=null==a[e.prop]?"":a[e.prop],s[e.prop]=null==s[e.prop]?"":s[e.prop],(a[e.prop]>s[e.prop]?1:-1)*t}})},showModal:function(){this.createCloudDisk=!0},closeCreateDisk:function(e){!0===e&&this.getDisks(),this.createCloudDisk=!1},closeEditVolume:function(e){!0===e&&this.getDisks(),this.showEditVolume=!1},closeExtendVolume:function(e){!0===e.fresh&&this.getDisks(),this.showExtendVolume=!1},closeChargeVolume:function(e){var t=this;if(!0===e.fresh){var a=new Date,s=setInterval(function(){(new Date).getTime()-a>12e4&&clearInterval(s),t.$http({url:t.common.formatMsg(t.api.storage.get_volumes_detail,{vid:e.id}),method:"get"}).then(function(a){"in-use"===a.data.data.status?(t.$notify({title:t.lang.common.success,type:"success",message:t.common.formatMsg(t.lang.cloudDisk.chargeVolumeSuccess,{name:e.name})}),clearInterval(s),t.getDisks()):"unrecognize"!==a.data.data.status&&"attaching"!==a.data.data.status&&(t.$notify({title:t.lang.common.error,type:"error",message:t.common.formatMsg(t.lang.cloudDisk.chargeVolumeFailed,{name:e.name})}),clearInterval(s),t.getDisks())})},3e3);this.timer.push(s),this.getDisks()}this.showChargeVolume=!1},closeDischargeVolume:function(e){var t=this;if(!0===e.fresh){var a=(new Date).getTime(),s=setInterval(function(){(new Date).getTime()-a>12e4&&clearInterval(s),t.$http({url:t.common.formatMsg(t.api.storage.get_volumes_detail,{vid:e.id}),method:"get"}).then(function(a){"available"===a.data.data.status?(t.$notify({title:t.lang.common.success,type:"success",message:t.common.formatMsg(t.lang.cloudDisk.dischargeVolumeSuccess,{name:e.name})}),clearInterval(s),t.getDisks()):"unrecognize"!==a.data.data.status&&"detaching"!==a.data.data.status&&(t.$notify({title:t.lang.common.error,type:"error",message:t.common.formatMsg(t.lang.cloudDisk.dischargeVolumeFailed,{name:e.name})}),clearInterval(s),t.getDisks())})},3e3);this.timer.push(s),this.getDisks()}this.showDischargeVolume=!1},closeCreateSnapshot:function(e){!0===e&&this.getDisks(),this.showCreateSnapshot=!1},closeDeleteDisk:function(e){var t=this,a=[],s=[];if(this.deleteCloudDisk=!1,!0===e){switch(this.activeName){case"dataDisk":a=this.dataSelectionIds,s=this.dataSelections;break;case"sysDisk":a=this.sysSelectionIds,s=this.sysSelections;break;case"cacheDisk":a=this.cacheSelectionIds,s=this.cacheSelections}s.map(function(e){t.doing[e.id]=e.name});var o=this.api.storage.delete_volumes+this.common.formatGetUrl({id:a,force:this.force}),l=(new Date).getTime();this.checkError(this.$http.delete(o),function(){var e=this;t.$notify({title:t.lang.common.success,type:"success",message:t.lang.cloudDisk.deletingCloudDisk}),a.map(function(a){var s=setInterval(function(){(new Date).getTime()-l>12e4&&clearInterval(s),t.$http({url:t.common.formatMsg(t.api.storage.get_volumes_detail,{vid:a}),method:"get"}).then(function(e){"1404"===e.data.code||1===parseInt(e.data.code)?(t.$notify({title:t.lang.common.success,type:"success",message:t.common.formatMsg(t.lang.cloudDisk.deleteVolumeSuccess,{name:t.doing[a]})}),clearInterval(s),t.getDisks()):"error"!==e.data.data.status&&"error-deleting"!==e.data.data.status||(t.$notify({title:t.lang.common.error,type:"error",message:t.common.formatMsg(t.lang.cloudDisk.deleteVolumeFailed,{name:t.doing[a]})}),clearInterval(s),t.getDisks())})},3e3);e.timer.push(s)}),t.getDisks()})}},closeResetVolume:function(e){var t=this;this.showResetVolume=!1,!0===e&&this.checkError(this.$http({url:this.api.storage.post_volumes_detail_resets,method:"post",data:{vid:this.sysSelectionIds[0]}}),function(){t.$notify({title:t.lang.common.success,type:"success",message:t.lang.cloudDisk.resetVolumeSuccess}),t.getDisks(),t.sysSelectionIds=[]})},getDisks:function(){var e=this;this.loading=!0,this.checkError(this.$http({url:this.api.storage.get_volumes,method:"get"}),function(t){e.dataOrigin=t.data.data_disks,e.sysOrigin=t.data.sys_disks,e.cacheOrigin=t.data.cache_disks,e.loading=!1},function(){e.loading=!1})},selectDiskIds:function(e){var t=[],a=this;switch(e.forEach(function(e){t.push(e.id)}),this.activeName){case"dataDisk":this.dataSelectionIds=t,this.dataSelections=e;break;case"sysDisk":this.sysSelectionIds=t,this.sysSelections=e;break;case"cacheDisk":this.cacheSelectionIds=t,this.cacheSelections=e}t.length>0?(this.hasSnapshotLoading=!0,this.checkError(this.$http({url:this.api.storage.getSnapshot,method:"get"}),function(e){a.hasSnapshotLoading=!1,a.hasSnapshotVolume=!1,e.data.data_disks.concat(e.data.sys_disks).map(function(e){t.indexOf(e.volumeId)>-1&&(a.hasSnapshotVolume=!0)}),!0===a.hasSnapshotVolume&&(a.disbledDeleteStr=a.lang.cloudDisk.onlyDeleteNoSnapshot)},function(){a.hasSnapshotLoading=!1}),a.delSnapshotVolume=!1,e.forEach(function(e){if("in-use"==e.status)return a.delSnapshotVolume=!0,a.disbledDelete="所选包含已加载的云硬盘不可删除，卸载后再执行删除操作"})):a.disbledDeleteStr=a.lang.cloudDisk.atLeastOneDisk},deleteVolume:function(e){this.force=e,this.deleteCloudDisk=!0},checkOperation:function(e){switch(e){case"charge":this.showChargeVolume=!0;break;case"discharge":this.showDischargeVolume=!0;break;case"create-snapshot":this.showCreateSnapshot=!0;break;case"force-delete":this.deleteVolume(!0);break;case"extend":this.showExtendVolume=!0}}},mounted:function(){var e=this;this.getDisks(),this.$ws.setCallback(function(t){if(-1!==e.wsEventQueue.indexOf(t.resource_id)){var a=t.event_type.split(".");"volume"===a[0]&&"end"===a[2]&&e.getDisks()}})},destroyed:function(){this.common.clearTimer(this)},watch:{dataSearch:function(){this.dataPage=1},cacheSearch:function(){this.sysPage=1},sysSearch:function(){this.cachePage=1}}},L={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",{attrs:{type:"flex",direction:"vertical"}},[a("pana-breadcrumb",{attrs:{changePool:!0,callback:e.getDisks}}),e._v(" "),a("el-main",[a("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:e.lang.cloudDisk.dataDisk,name:"dataDisk"}},[a("el-row",{staticClass:"pana-btn-group",attrs:{type:"flex",justify:"space-between"}},[a("el-col",{attrs:{span:18}},[a("el-button",{attrs:{type:"primary"},on:{click:e.showModal}},[e._v("\n                            "+e._s(e.lang.common.create)+"\n                        ")]),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{disabled:0!==e.dataSelectionIds.length&&!1===e.hasSnapshotVolume&&!1===e.delSnapshotVolume,effect:"dark",placement:"top-start",content:!0===e.delSnapshotVolume?e.disbledDelete:e.disbledDeleteStr}},[a("span",{staticClass:"more-operation"},[a("el-button",{attrs:{disabled:!0===e.hasSnapshotLoading||0===e.dataSelectionIds.length||!0===e.hasSnapshotVolume||!0===e.delSnapshotVolume},on:{click:function(t){return e.deleteVolume(!1)}}},[!0===e.hasSnapshotLoading?a("i",{staticClass:"el-icon-loading"}):e._e(),e._v("\n                                    "+e._s(e.lang.common.delete)+"\n                                ")])],1)]),e._v(" "),a("el-dropdown",{staticClass:"more-operation",on:{command:e.checkOperation}},[a("el-button",{attrs:{type:"default",disabled:0===e.dataSelectionIds.length}},[e._v("\n                                "+e._s(e.lang.cloudDisk.moreOperation)+"\n                                "),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{disabled:1!==e.dataSelectionIds.length||"available"!==e.dataSelections[0].status&&!("in-use"===e.dataSelections[0].status&&!0===e.dataSelections[0].multiattach),command:"charge"}},[e._v("\n                                    "+e._s(e.lang.cloudDisk.charge)+"\n                                ")]),e._v(" "),a("el-dropdown-item",{attrs:{disabled:1!==e.dataSelectionIds.length||"in-use"!==e.dataSelections[0].status,command:"discharge"}},[e._v("\n                                    "+e._s(e.lang.cloudDisk.discharge)+"\n                                ")]),e._v(" "),a("el-dropdown-item",{attrs:{disabled:1!==e.dataSelectionIds.length||"available"!==e.dataSelections[0].status&&"in-use"!==e.dataSelections[0].status,command:"create-snapshot"}},[e._v("\n                                    "+e._s(e.lang.cloudDisk.createSnapshot)+"\n                                ")]),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{disabled:!(1===e.dataSelectionIds.length&&"available"!==e.dataSelections[0].status),effect:"dark",content:e.lang.cloudDisk.onlyAvailableCanExtend,placement:"top-start"}},[a("span",[a("el-dropdown-item",{attrs:{disabled:1!==e.dataSelectionIds.length||"available"!==e.dataSelections[0].status,command:"extend"}},[e._v("\n                                        "+e._s(e.lang.cloudDisk.extend)+"\n                                    ")])],1)]),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{disabled:0!==e.dataSelectionIds.length&&!1===e.hasSnapshotVolume,effect:"dark",placement:"top-start",content:e.disbledDeleteStr}},[a("span",[a("el-dropdown-item",{attrs:{disabled:0!==e.dataSelectionIds.length&&!0===e.hasSnapshotVolume,command:"force-delete"},on:{click:function(t){return e.deleteVolume(!0)}}},[e._v("\n                                            "+e._s(e.lang.cloudDisk.forceDelete)+"\n                                        ")])],1)])],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-row",{staticClass:"search-row",attrs:{type:"flex",justify:"space-around"}},[a("el-col",{attrs:{span:22}},[a("el-input",{attrs:{placeholder:e.lang.common.search,"suffix-icon":"el-icon-search"},model:{value:e.dataSearch,callback:function(t){e.dataSearch=t},expression:"dataSearch"}})],1),e._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{staticClass:"fa fa-refresh",attrs:{type:"text",circle:""},on:{click:e.getDisks}})],1)],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticClass:"cloud-table",staticStyle:{width:"100%"},attrs:{"element-loading-text":e.lang.common.loading,"element-loading-spinner":"el-icon-loading","element-loading-background":"rgb(255, 255, 255)",data:e.dataTable,"tooltip-effect":"dark"},on:{"selection-change":e.selectDiskIds,"sort-change":e.sortChangeData}},[a("el-table-column",{attrs:{type:"selection"}}),e._v(" "),a("el-table-column",{attrs:{label:e.lang.common.name,sortable:"custom",prop:"name"}}),e._v(" "),a("el-table-column",{attrs:{label:e.lang.cloudDisk.configGB,sortable:"custom",prop:"size"}}),e._v(" "),a("el-table-column",{attrs:{label:e.lang.common.status,sortable:"custom",prop:"status"},scopedSlots:e._u([{key:"default",fn:function(t){return[null!=e.config[t.row.status.toLowerCase()]?a("span",{class:["status",e.config[t.row.status.toLowerCase()].style]},[e._v("\n                            "+e._s(e.config[t.row.status.toLowerCase()].title)+"\n                        ")]):a("span",{staticClass:"status cloud-error"},[e._v("\n                            "+e._s(e.lang.common.unknown)+"\n                        ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:e.lang.cloudDisk.storagePool,sortable:"custom",prop:"display_name"}}),e._v(" "),a("el-table-column",{attrs:{label:e.lang.cloudDisk.bootable,sortable:"custom",prop:"bootable"},scopedSlots:e._u([{key:"default",fn:function(t){return[!0===e.common.forceBoolean(t.row.bootable)?a("span",[e._v("\n                            "+e._s(e.lang.cloudDisk.bootable)+"\n                        ")]):a("span",[e._v("\n                            "+e._s(e.lang.cloudDisk.unbootable)+"\n                        ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:e.lang.cloudDisk.shareVolume,sortable:"custom",prop:"multiattach"},scopedSlots:e._u([{key:"default",fn:function(t){return[!0===e.common.forceBoolean(t.row.multiattach)?a("span",[e._v("\n                            "+e._s(e.lang.common.yes)+"\n                        ")]):a("span",[e._v("\n                            "+e._s(e.lang.common.no)+"\n                        ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:e.lang.common.description,sortable:"custom",prop:"description"}}),e._v(" "),a("el-table-column",{attrs:{label:e.lang.common.operation},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.handleEdit(t.row)}}},[e._v("\n                                "+e._s(e.lang.common.update)+"\n                            ")])]}}])})],1),e._v(" "),a("el-row",{staticClass:"pana-pagination-row",attrs:{type:"flex",justify:"end"}},[e.dataFilter.length>e.pageSize?a("el-pagination",{attrs:{background:"",layout:"slot, prev, pager, next","prev-text":e.lang.common.prevPage,"next-text":e.lang.common.nextPage,total:e.dataFilter.length,"page-size":e.pageSize},on:{"current-change":e.switchDataPage}},[e._t("default",[a("span",{staticClass:"pagination-slot"},[e._v("\n                            "+e._s(e.common.formatMsg(e.lang.common.paginationMsg,{current:this.dataPage,total:this.dataFilter.length}))+"\n                        ")])])],2):e._e()],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:e.lang.cloudDisk.sysDisk,name:"sysDisk"}},[a("el-row",{staticClass:"pana-btn-group",attrs:{type:"flex",justify:"space-between"}},[a("el-col",{attrs:{span:6}},[a("el-tooltip",{staticClass:"item",attrs:{disabled:1===e.sysSelectionIds.length&&"retyping"===e.sysSelections[0].status,effect:"dark",content:e.lang.cloudDisk.resetStatusInfo,placement:"top"}},[a("span",[a("el-button",{attrs:{disabled:1!==e.sysSelectionIds.length||"retyping"!==e.sysSelections[0].status},on:{click:function(t){e.showResetVolume=!0}}},[e._v("\n                                "+e._s(e.lang.cloudDisk.resetStatus)+"\n                            ")])],1)])],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-row",{staticClass:"search-row",attrs:{type:"flex",justify:"space-around"}},[a("el-col",{attrs:{span:22}},[a("el-input",{attrs:{placeholder:e.lang.common.search,"suffix-icon":"el-icon-search"},model:{value:e.sysSearch,callback:function(t){e.sysSearch=t},expression:"sysSearch"}})],1),e._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{staticClass:"fa fa-refresh",attrs:{type:"text",circle:""},on:{click:e.getDisks}})],1)],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticClass:"cloud-table",staticStyle:{width:"100%"},attrs:{"element-loading-text":e.lang.common.loading,"element-loading-spinner":"el-icon-loading","element-loading-background":"rgb(255, 255, 255)",data:e.sysTable,"tooltip-effect":"dark"},on:{"selection-change":e.selectDiskIds,"sort-change":e.sortChangeSys}},[a("el-table-column",{attrs:{type:"selection"}}),e._v(" "),a("el-table-column",{attrs:{label:e.lang.common.name,sortable:"custom",prop:"name"}}),e._v(" "),a("el-table-column",{attrs:{label:e.lang.cloudDisk.configGB,sortable:"custom",prop:"size"}}),e._v(" "),a("el-table-column",{attrs:{label:e.lang.common.status,sortable:"custom",prop:"status"},scopedSlots:e._u([{key:"default",fn:function(t){return[null!=e.config[t.row.status.toLowerCase()]?a("span",{class:["status",e.config[t.row.status.toLowerCase()].style]},[e._v("\n                            "+e._s(e.config[t.row.status.toLowerCase()].title)+"\n                        ")]):a("span",{staticClass:"status cloud-error"},[e._v("\n                            "+e._s(e.lang.common.unknown)+"\n                        ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:e.lang.cloudDisk.storagePool,sortable:"custom",prop:"display_name"}}),e._v(" "),a("el-table-column",{attrs:{label:e.lang.common.description,sortable:"custom",prop:"description"}}),e._v(" "),a("el-table-column",{attrs:{label:e.lang.common.operation},scopedSlots:e._u([{key:"default",fn:function(t){return[a("a",{attrs:{href:"#"},on:{click:function(a){return e.handleEdit(t.row,!0)}}},[e._v("\n                                "+e._s(e.lang.common.update)+"\n                            ")])]}}])})],1),e._v(" "),a("el-row",{staticClass:"pana-pagination-row",attrs:{type:"flex",justify:"end"}},[e.sysFilter.length>e.pageSize?a("el-pagination",{attrs:{background:"",layout:"slot, prev, pager, next","prev-text":e.lang.common.prevPage,"next-text":e.lang.common.nextPage,total:e.sysFilter.length,"page-size":e.pageSize},on:{"current-change":e.switchSysPage}},[e._t("default",[a("span",{staticClass:"pagination-slot"},[e._v("\n                            "+e._s(e.common.formatMsg(e.lang.common.paginationMsg,{current:this.sysPage,total:this.sysFilter.length}))+"\n                        ")])])],2):e._e()],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:e.lang.cloudDisk.cacheDisk,name:"cacheDisk"}},[a("el-row",{staticClass:"pana-btn-group",attrs:{type:"flex",justify:"space-between"}},[a("el-col",{attrs:{span:6}},[a("el-button",{attrs:{disabled:0===e.cacheSelectionIds.length},on:{click:function(t){e.deleteCloudDisk=!0}}},[e._v("\n                            "+e._s(e.lang.common.delete)+"\n                        ")])],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-row",{staticClass:"search-row",attrs:{type:"flex",justify:"space-around"}},[a("el-col",{attrs:{span:22}},[a("el-input",{attrs:{placeholder:e.lang.common.search,"suffix-icon":"el-icon-search"},model:{value:e.cacheSearch,callback:function(t){e.cacheSearch=t},expression:"cacheSearch"}})],1),e._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{staticClass:"fa fa-refresh",attrs:{type:"text",circle:""},on:{click:e.getDisks}})],1)],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticClass:"cloud-table",staticStyle:{width:"100%"},attrs:{"element-loading-text":e.lang.common.loading,"element-loading-spinner":"el-icon-loading","element-loading-background":"rgb(255, 255, 255)",data:e.cacheTable,"tooltip-effect":"dark"},on:{"selection-change":e.selectDiskIds,"sort-change":e.sortChangeCache}},[a("el-table-column",{attrs:{type:"selection"}}),e._v(" "),a("el-table-column",{attrs:{label:e.lang.common.name,prop:"name"}}),e._v(" "),a("el-table-column",{attrs:{label:e.lang.cloudDisk.configGB,prop:"size"}}),e._v(" "),a("el-table-column",{attrs:{label:e.lang.common.status,prop:"status"},scopedSlots:e._u([{key:"default",fn:function(t){return[null!=e.config[t.row.status.toLowerCase()]?a("span",{class:["status",e.config[t.row.status.toLowerCase()].style]},[e._v("\n                             "+e._s(e.config[t.row.status.toLowerCase()].title)+"\n                        ")]):a("span",{staticClass:"status cloud-error"},[e._v("\n                             "+e._s(e.lang.common.unknown)+"\n                        ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:e.lang.cloudDisk.storagePool,prop:"display_name"}}),e._v(" "),a("el-table-column",{attrs:{label:e.lang.common.description,prop:"description"}})],1),e._v(" "),a("el-row",{staticClass:"pana-pagination-row",attrs:{type:"flex",justify:"end"}},[e.cacheFilter.length>e.pageSize?a("el-pagination",{attrs:{background:"",layout:"prev, pager, next","prev-text":e.lang.common.prevPage,"next-text":e.lang.common.nextPage,total:e.cacheFilter.length,"page-size":e.pageSize},on:{"current-change":e.switchCachePage}}):e._e()],1)],1)],1)],1),e._v(" "),a("pana-createCloudDisk",{attrs:{show:e.createCloudDisk},on:{closeModal:e.closeCreateDisk}}),e._v(" "),a("pana-deleteCloudDisk",{attrs:{show:e.deleteCloudDisk},on:{closeModal:e.closeDeleteDisk}}),e._v(" "),a("pana-edit-volume",{attrs:{show:e.showEditVolume,force:e.force,volume:e.editObj,isSys:e.isSys},on:{closeModal:e.closeEditVolume}}),e._v(" "),a("pana-extend-volume",{attrs:{show:e.showExtendVolume,volume:e.dataSelections[0]},on:{closeModal:e.closeExtendVolume}}),e._v(" "),a("pana-charge-volume",{attrs:{show:e.showChargeVolume,volume:e.dataSelections[0]},on:{closeModal:e.closeChargeVolume}}),e._v(" "),a("pana-discharge-volume",{attrs:{show:e.showDischargeVolume,volume:e.dataSelections[0]},on:{closeModal:e.closeDischargeVolume}}),e._v(" "),a("pana-create-snapshot",{attrs:{show:e.showCreateSnapshot,volume:e.dataSelections[0]},on:{closeModal:e.closeCreateSnapshot}}),e._v(" "),a("pana-reset-volume",{attrs:{show:e.showResetVolume},on:{closeModal:e.closeResetVolume}})],1)},staticRenderFns:[]};var O=a("C7Lr")(I,L,!1,function(e){a("EuCd")},"data-v-26e778a6",null);t.default=O.exports},flHN:function(e,t){},i4vV:function(e,t){},ka4P:function(e,t){},qT68:function(e,t){},tQoQ:function(e,t){}});